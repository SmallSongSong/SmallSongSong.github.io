(this["webpackJsonp@seatalk/web-app-sdk-example"]=this["webpackJsonp@seatalk/web-app-sdk-example"]||[]).push([[3],{283:function(e,t,n){e.exports={page:"style_page__2YuHV",pageHeader:"style_pageHeader__2MR-f",pageContent:"style_pageContent__MZ-WP",consoleControl:"style_consoleControl__18PKL",console:"style_console__2cJEc",consoleInner:"style_consoleInner__2Sb0c"}},481:function(e,t,n){e.exports={page:"style_page__CepTP",form:"style_form__3vjJP",openButton:"style_openButton__27Nch",dot:"style_dot__1SZeM"}},482:function(e,t,n){e.exports={page:"style_page__15Bjb",form:"style_form__uvyg1"}},483:function(e,t,n){},493:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(59),s=n(19),o=(n(30),n(32)),i=n.n(o),l=(n(216),n(443)),r=n.n(l),j=(n(94),n(91)),d=n.n(j),h=(n(95),n(119)),b=n.n(h),p=(n(220),n(284)),u=n.n(p),m=(n(130),n(203)),O=n.n(m),g=n(27),f=n(17),x=n(232),v=n(489),y=n(39),k=n(283),S=n.n(k),w=n(1),C=function(){var e=Object(c.useState)(!0),t=Object(f.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)([]),l=Object(f.a)(o,2),j=l[0],h=l[1],p=Object(c.useRef)(null),m=Object(s.d)();return Object(c.useEffect)((function(){return Object(x.Hook)(window.console,(function(e){return h((function(t){return[].concat(Object(g.a)(t),[e])}))}),!1),console.log("window.location.href:",window.location.href),console.log("sdk.clientInfo:",y.clientInfo),function(){Object(x.Unhook)(window.console)}}),[]),Object(c.useEffect)((function(){p.current&&(p.current.scrollTop=p.current.scrollHeight),j.length&&a(!0)}),[j]),Object(w.jsxs)("div",{className:S.a.page,children:["/"===m.pathname?Object(w.jsx)(u.a,{className:S.a.pageHeader,tags:Object(w.jsx)(O.a,{color:"blue",children:"v0.6.0"}),backIcon:!1,title:"Seatalk Web SDK Demo"}):Object(w.jsx)(u.a,{className:S.a.pageHeader,tags:Object(w.jsx)(O.a,{color:"blue",children:"v0.6.0"}),onBack:function(){return window.history.back()},title:"Seatalk Web SDK Demo"}),Object(w.jsxs)("div",{className:S.a.pageContent,children:[Object(w.jsx)("div",{className:S.a.consoleControl,children:Object(w.jsxs)(d.a,{size:"small",children:[Object(w.jsxs)(d.a,{children:["Show Console",Object(w.jsx)(b.a,{checked:n,onChange:a})]}),Object(w.jsx)(r.a,{type:"vertical"}),Object(w.jsx)(i.a,{size:"small",onClick:function(){h([])},children:"Clear Console"})]})}),Object(w.jsx)(s.a,{})]}),Object(w.jsx)(v.a,{enable:{top:!0,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},bounds:"parent",boundsByDirection:!0,defaultSize:{width:"100%",height:"30%"},minWidth:"100%",minHeight:"30%",style:{display:n?"block":"none"},className:"console",children:Object(w.jsx)("div",{ref:p,className:S.a.consoleInner,children:Object(w.jsx)(x.Console,{styles:{BASE_FONT_FAMILY:"source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace"},variant:"dark",logs:j.filter((function(e){var t,n;return!("debug"===e.method&&"[@seatalk/web-app-sdk]"===(null===(t=e.data)||void 0===t?void 0:t[0])&&"[BridgeWebview]"===(null===(n=e.data)||void 0===n?void 0:n[1]))}))})})})]})},I=(n(51),n(53)),P=n.n(I),T=(n(52),n(54)),E=n.n(T),_=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"sdk-basic"}),Object(w.jsxs)(P.a,{children:[Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.getSSOToken({onSuccess:function(e){console.log("SSO token:",(new Date).toLocaleTimeString(),e)}})},children:"getSSOToken"})}),Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){setTimeout((function(){y.getSSOToken({onSuccess:function(e){console.log("SSO token (3s delay):",(new Date).toLocaleTimeString(),e)}})}),3e3)},children:"getSSOToken (3s delay)"})})]}),Object(w.jsx)(P.a,{children:Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.navigateBack({data:"Data from Web APP",delta:1})},children:"navigateBack"})})})]})},N=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"sdk-config"}),Object(w.jsx)(P.a,{children:Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){console.log("screenWidth: ",window.screen.width),console.log("screenHeight: ",window.screen.height),console.log("windowWidth: ",window.innerWidth),console.log("windowHeight: ",window.innerHeight),console.log("devicePixelRatio",window.devicePixelRatio),y.getSystemInfo({onSuccess:function(e){console.log("getSystemInfo success: ",e)},onError:function(e){console.log("getSystemInfo error: ",e)}})},children:"getSystemInfo"})})})]})},D=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"sdk-ui"}),Object(w.jsxs)(P.a,{children:[Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.toast({message:"test"}),setTimeout((function(){y.toast({message:"test (delayed 3s)"})}),3e3)},children:"toast"})}),Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.showDialog({title:"Dialog Title",message:"Dialog message",okText:"Ok",cancelText:"Cancel",inputConfig:{placeholder:"\u8bf7\u8f93\u5165",prefilledText:"test",maxInputLength:150},onOk:function(){y.toast({message:"onOk"})},onCancel:function(){y.toast({message:"onCancel"})}})},children:"showDialog"})})]}),Object(w.jsx)(P.a,{children:Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.showLoading(),setTimeout((function(){y.hideLoading()}),1500)},children:"showLoading"})})})]})},L=(n(445),n(447)),M=n.n(L),R=(n(129),n(198)),A=n.n(R),U=(n(96),n(89)),H=n.n(U),F=n(63),B=n(207),W=n(64);function z(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}var V=function(){var e=Object(c.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(c.createRef)(),o=Object(c.useState)(!1),l=Object(f.a)(o,2),r=l[0],j=l[1];return Object(c.useEffect)((function(){Object(W.a)(Object(F.a)().mark((function e(){var t,c,a,s,o,i;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.length||!r){e.next=24;break}return e.next=3,new Promise((function(e){return setTimeout(e,300)}));case 3:t=Date.now(),c=[],a=Object(B.a)(n),e.prev=6,o=Object(F.a)().mark((function e(){var t,n;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.value.url,e.next=3,new Promise((function(e){y.fetchImage({url:t,onSuccess:e})}));case 3:n=e.sent,c.push(n),console.log("Blob (size: ".concat(n.size,", type: ").concat(n.type,")"));case 6:case"end":return e.stop()}}),e)})),a.s();case 9:if((s=a.n()).done){e.next=13;break}return e.delegateYield(o(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),a.e(e.t1);case 18:return e.prev=18,a.f(),e.finish(18);case 21:i=Date.now()-t,console.log("It takes ".concat(i,"ms to fetch ").concat(c.length," image(s), ").concat(Math.round(i/c.length),"ms on average")),j(!1);case 24:case"end":return e.stop()}}),e,null,[[6,15,18,21]])})))()}),[n,r]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"sdk-images"}),Object(w.jsxs)(P.a,{children:[Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(H.a,{placement:"right",title:Object(w.jsxs)("span",{children:["Show 5 random images form"," ",Object(w.jsx)("a",{href:"https://picsum.photos",children:"picsum.photos"})," (some of the images could be invalid), followed by 1 invalid image, and then 4 animated gif images."]}),children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.showImages({urls:[].concat(Object(g.a)(new Array(5).fill(0).map((function(){var e=z(1,1e3),t=100*z(2,7),n=100*z(2,7);return"https://picsum.photos/id/".concat(e,"/").concat(t,"/").concat(n)}))),["https://google.com","https://media.giphy.com/media/3o6Zt481isNVuQI1l6/giphy.gif","https://media.giphy.com/media/mlvseq9yvZhba/giphy.gif","https://media.giphy.com/media/jpbnoe3UIa8TU8LM13/giphy.gif","https://media.giphy.com/media/C9x8gX02SnMIoAClXa/giphy.gif"]),selectedIndex:4})},children:"showImages"})})}),Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{ref:s,type:"primary",loading:r,onClick:function(){n.length?j(!0):y.toast({message:"Please pickImages first"})},children:"fetchImage"})})]}),Object(w.jsx)(P.a,{children:Object(w.jsxs)(E.a,{span:12,children:[Object(w.jsxs)(d.a,{children:[Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.pickImages({maxSelect:30,onSuccess:function(e){a(e.map((function(e){return console.log({width:e.width,height:e.height,url:e.url}),e})))}})},children:"pickImages"}),n.length>0&&Object(w.jsx)(i.a,{onClick:function(){return a([])},children:"Reset"})]}),n.length>0&&Object(w.jsx)("div",{className:"images",children:Object(w.jsx)(d.a,{size:"middle",wrap:!0,children:n.map((function(e){return e.url})).map((function(e,t,n){return Object(w.jsx)("span",{onClick:function(){y.showImages({urls:n,selectedIndex:t})},children:Object(w.jsx)(M.a,{count:t+1,children:Object(w.jsx)(A.a,{shape:"square",size:64,src:e})})},e)}))})})]})})]})},J=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"sdk-user"}),Object(w.jsx)(P.a,{children:Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(a.b,{to:"/user-profile",children:Object(w.jsx)(i.a,{type:"primary",children:"openUserProfile"})})})})]})},K=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"sdk-share"}),Object(w.jsxs)(P.a,{children:[Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.shareAppLink({icon:"logo192.png",onSuccess:function(){return y.toast({message:"onSuccess"})},onCancel:function(){return y.toast({message:"onCancel"})}})},children:"shareAppLink"})}),Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(a.b,{to:"/share-app",children:Object(w.jsx)(i.a,{type:"primary",children:"shareApp"})})})]})]})},Y=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"sdk-event-emitter"}),Object(w.jsx)(P.a,{children:Object(w.jsx)(E.a,{span:12,children:Object(w.jsx)(a.b,{to:"/event-emitter",children:Object(w.jsx)(i.a,{type:"primary",children:"Event Emitter"})})})})]})},q=function(){return Object(w.jsxs)("div",{style:{padding:20},children:[Object(w.jsx)(_,{}),Object(w.jsx)(N,{}),Object(w.jsx)(D,{}),Object(w.jsx)(V,{}),Object(w.jsx)(J,{}),Object(w.jsx)(K,{}),Object(w.jsx)(Y,{})]})},X=(n(122),n(124)),Z=n.n(X),G=(n(123),n(125)),Q=n.n(G),$=n(16),ee=!0;function te(e){e.mobilePath=e.mobilePath||"",e.desktopPath=e.desktopPath||"";var t={title:e.title,subtitle:e.subtitle,imageUri:e.imageUri,onSuccess:function(){return y.toast({message:"onSuccess"})},onCancel:function(){return y.toast({message:"onCancel"})},onError:function(e){var t="".concat(e.code,"-").concat(e.message||"can not share app.");y.toast({message:t})}};if("rn"===e.mobileType||"web"===e.mobileType){var n=JSON.parse(e.mobileParams||"{}"),c={};Object.entries(n).forEach((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];c[n]=encodeURI(a)})),t.mobileLink={type:e.mobileType,path:ee?encodeURI(e.mobilePath):e.mobilePath,params:ee?c:n}}if("rn"===e.desktopType||"web"===e.desktopType){var a=JSON.parse(e.desktopParams||"{}"),s={};Object.entries(a).forEach((function(e){var t=Object(f.a)(e,2),n=t[0],c=t[1];s[n]=encodeURI(c)})),t.desktopLink={type:e.desktopType,path:ee?encodeURI(e.desktopPath):e.desktopPath,params:ee?s:a}}y.shareApp(Object($.a)({},t))}function ne(e){ee=e}var ce=function(){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(Z.a,{name:"basic",layout:"vertical",labelCol:{offset:0,span:24},wrapperCol:{span:24},autoComplete:"off",onFinish:te,style:{padding:20},children:[Object(w.jsx)(Z.a.Item,{label:"Title",name:"title",initialValue:"Seatalk Web Demo App",children:Object(w.jsx)(Q.a,{placeholder:"share title"})}),Object(w.jsx)(Z.a.Item,{label:"Subtitle",name:"subtitle",initialValue:"This is a share message from web app.",children:Object(w.jsx)(Q.a,{placeholder:"share subtitle"})}),Object(w.jsx)(Z.a.Item,{label:"Image",name:"imageUri",initialValue:"https://seatalk.io/img/seatalk-web-logo.png",children:Object(w.jsx)(Q.a,{placeholder:"share image url"})}),Object(w.jsx)("p",{children:Object(w.jsx)(O.a,{color:"red",children:"Mobile Link"})}),Object(w.jsx)(Z.a.Item,{label:"Type",name:"mobileType",children:Object(w.jsx)(Q.a,{placeholder:"web | rn"})}),Object(w.jsx)(Z.a.Item,{label:"Path",name:"mobilePath",children:Object(w.jsx)(Q.a,{placeholder:"please input share path"})}),Object(w.jsx)(Z.a.Item,{label:"Params",name:"mobileParams",initialValue:'{"id":"123"}',children:Object(w.jsx)(Q.a,{placeholder:'{"id":"123"}'})}),Object(w.jsx)("p",{children:Object(w.jsx)(O.a,{color:"red",children:"Desktop Link"})}),Object(w.jsx)(Z.a.Item,{label:"Type",name:"desktopType",initialValue:"web",children:Object(w.jsx)(Q.a,{placeholder:"web"})}),Object(w.jsx)(Z.a.Item,{label:"Path",name:"desktopPath",children:Object(w.jsx)(Q.a,{placeholder:"please input share path"})}),Object(w.jsx)(Z.a.Item,{label:"Params",name:"desktopParams",initialValue:'{"id":"123"}',children:Object(w.jsx)(Q.a,{placeholder:'{"id":"123"}'})}),Object(w.jsx)("p",{children:"Path \u548c Params \u4f1a\u901a\u8fc7 encodeURI() \u8fdb\u884c\u7f16\u7801"}),Object(w.jsx)(Z.a.Item,{children:Object(w.jsx)(b.a,{checkedChildren:"Encode",unCheckedChildren:"No Encode",defaultChecked:!0,onChange:ne})}),Object(w.jsx)(Z.a.Item,{wrapperCol:{span:16},children:Object(w.jsx)(i.a,{type:"primary",htmlType:"submit",children:"Share App"})})]})})},ae=n(481),se=n.n(ae),oe=function(){var e=Object(c.useState)(!1),t=Object(f.a)(e,2),n=(t[0],t[1]),a=Object(c.useState)("35938"),s=Object(f.a)(a,2),o=s[0],l=s[1],r=Object(c.useState)(!0),j=Object(f.a)(r,2),d=j[0],h=j[1],p=Object(c.createRef)(),u=Object(c.useState)(50),m=Object(f.a)(u,2),O=m[0],g=m[1],x=Object(c.useState)(50),v=Object(f.a)(x,2),k=v[0],S=v[1];return Object(c.useEffect)((function(){var e,t,n=!1,c=p.current;if(c){c.addEventListener("mousedown",(function(a){e=a.clientX-c.offsetLeft,t=a.clientY-c.offsetTop,n=!0}),!1);document.addEventListener("mousemove",(function(a){n&&(c.style.left=a.clientX-e+"px",c.style.top=a.clientY-t+"px")}),!1);document.addEventListener("mouseup",(function(){n=!1}),!1)}var a=document.querySelector("#root");a&&a.addEventListener("scroll",(function(){console.log("scroll")}))}),[]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:se.a.page,children:[Object(w.jsxs)("div",{className:se.a.form,children:[Object(w.jsx)(Z.a.Item,{label:"Employee Code",children:Object(w.jsx)(Q.a,{value:o,onChange:function(e){l(e.target.value)},placeholder:"Please input a employee code"})}),Object(w.jsx)(Z.a.Item,{label:"Enable targetRect Params?",children:Object(w.jsx)(b.a,{style:{marginLeft:20},checkedChildren:"Enable",unCheckedChildren:"Disable",defaultChecked:!0,onChange:function(e){h(!!e)}})}),Object(w.jsx)(Z.a.Item,{label:"Avatar Width",children:Object(w.jsx)(Q.a,{value:O,type:"number",onChange:function(e){var t=+e.target.value;g(t)},placeholder:"width of avatar"})}),Object(w.jsx)(Z.a.Item,{label:"Avatar Height",children:Object(w.jsx)(Q.a,{value:k,type:"number",onChange:function(e){var t=+e.target.value;S(t)},placeholder:"height of avatar"})})]}),Object(w.jsxs)(i.a,{className:se.a.openButton,style:{width:O,height:k},type:"primary",ref:p,onClick:function(){if(o){var e=document.querySelector(".open-button");if(e){var t,c=e.getBoundingClientRect();t=d?c:void 0,console.log("opeUserProfile targetRect :>> ",JSON.stringify(t)),y.openUserProfile({id:o,idType:"employee_code",targetRect:t,onSuccess:function(){console.log("openUserProfile success!"),n(!0)},onError:function(e){console.log("openUserProfile failed! ",e.code,e.message)}})}}else console.log("Please input a valid employee code")},children:[Object(w.jsx)("span",{style:{position:"absolute",left:0,bottom:-30,color:"black"},children:"openUserProfile"}),Object(w.jsx)("div",{className:se.a.dot})]})]})})},ie=n(482),le=n.n(ie),re=function(){var e=Object(c.useState)("TestEvent"),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)("MTI2ODM3NDc3NDc1"),o=Object(f.a)(s,2),l=o[0],r=o[1],j=Object(c.useState)("MTI2ODM3NDc3NDc1"),d=Object(f.a)(j,2),h=d[0],b=d[1],p=Object(c.useState)("MDU3NzEzMTA4MTk3"),u=Object(f.a)(p,2),m=u[0],O=u[1],g=function(){var e=Object(W.a)(Object(F.a)().mark((function e(){var t;return Object(F.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=m.split(","),y.emit({event:n,source:l,target:t,data:JSON.stringify({id:123,name:"\u5c0f\u660e",message:"\u8fd9\u662f\u6211\u53d1\u9001\u7684\u6570\u636e",onSuccess:function(){console.log("Emit Event Success: ".concat(n))}})});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)("div",{className:le.a.page,children:[Object(w.jsx)("hr",{}),Object(w.jsx)("div",{children:"Source Default Value: Web SDK DEMO"}),Object(w.jsx)("div",{children:"Target Default Value: RN SDK v0.13.0"}),Object(w.jsx)("hr",{}),Object(w.jsxs)(Z.a,{className:le.a.form,children:[Object(w.jsx)(Z.a.Item,{label:"Event Name",children:Object(w.jsx)(Q.a,{value:n,onChange:function(e){a(e.target.value)},placeholder:"Please input event name"})}),Object(w.jsx)(Z.a.Item,{label:"Register Source",children:Object(w.jsx)(Q.a,{value:h,onChange:function(e){b(e.target.value)},placeholder:"Please input event register source"})}),Object(w.jsx)(Z.a.Item,{label:"Emit Source",children:Object(w.jsx)(Q.a,{value:l,onChange:function(e){r(e.target.value)},placeholder:"Please input event emit source"})}),Object(w.jsxs)(Z.a.Item,{label:"Event Target",children:[Object(w.jsx)(Q.a,{value:m,onChange:function(e){O(e.target.value)},placeholder:"Please input event target"}),Object(w.jsx)("p",{children:"Input multiple targets, please split with ','"})]})]}),Object(w.jsx)(i.a,{type:"primary",style:{marginRight:10},onClick:g,children:"Emit Event"}),Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.listen({event:n,source:h,callback:function(e){console.log("App Get Event Response :>> ",e)},onSuccess:function(){console.log("Listen Event Success: ".concat(n))},onError:function(e){console.log("listenEventHandler err :>> ",e)}})},children:"Listen Event"}),Object(w.jsx)("div",{style:{marginTop:20},children:Object(w.jsx)(i.a,{type:"primary",onClick:function(){y.goAppLink({appLinkUrl:"seatalk://application/sop/MDU3NzEzMTA4MTk3/",popSelf:!1,onSuccess:function(){console.log("openRNAppHandler Success")},onError:function(e){console.log("openRNAppHandler err :>> ",e)}})},children:"Open App: RN SDK v0.13.0"})})]})})},je=function(){return Object(s.g)([{path:"/",element:Object(w.jsx)(C,{}),children:[{index:!0,element:Object(w.jsx)(q,{})},{path:"share-app",element:Object(w.jsx)(ce,{})},{path:"user-profile",element:Object(w.jsx)(oe,{})},{path:"event-emitter",element:Object(w.jsx)(re,{})}]}])};n(483),t.default=function(){return Object(w.jsx)(a.a,{children:Object(w.jsx)(je,{})})}}}]);
//# sourceMappingURL=3.e5b37b1b.chunk.js.map